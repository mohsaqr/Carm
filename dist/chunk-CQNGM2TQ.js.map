{"version":3,"sources":["../src/core/matrix.ts","../src/core/apa.ts"],"names":["_","a"],"mappings":"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","file":"chunk-CQNGM2TQ.js","sourcesContent":["/**\n * Matrix class for Carm.\n * Implements multiply, transpose, inverse (via Cholesky or LU), log-determinant, and SVD.\n * Pure computation — no DOM, no D3, no side effects.\n */\n\nexport class Matrix {\n  readonly rows: number\n  readonly cols: number\n  private readonly _data: readonly number[]  // row-major flat array\n\n  constructor(rows: number, cols: number, data?: readonly number[]) {\n    this.rows = rows\n    this.cols = cols\n    this._data = data ?? new Array<number>(rows * cols).fill(0)\n    if (this._data.length !== rows * cols) {\n      throw new Error(`Matrix data length ${this._data.length} does not match ${rows}×${cols}`)\n    }\n  }\n\n  /** Build from 2-D array (row-major). */\n  static fromArray(arr: readonly (readonly number[])[]): Matrix {\n    const rows = arr.length\n    if (rows === 0) throw new Error('Matrix cannot have 0 rows')\n    const cols = arr[0]!.length\n    const data: number[] = []\n    for (const row of arr) {\n      if (row.length !== cols) throw new Error('All rows must have equal length')\n      for (const v of row) data.push(v)\n    }\n    return new Matrix(rows, cols, data)\n  }\n\n  /** Identity matrix of size n. */\n  static identity(n: number): Matrix {\n    const data = new Array<number>(n * n).fill(0)\n    for (let i = 0; i < n; i++) data[i * n + i] = 1\n    return new Matrix(n, n, data)\n  }\n\n  /** Zero matrix. */\n  static zeros(rows: number, cols: number): Matrix {\n    return new Matrix(rows, cols, new Array<number>(rows * cols).fill(0))\n  }\n\n  /** Get element at (i, j) — 0-indexed. */\n  get(i: number, j: number): number {\n    const v = this._data[i * this.cols + j]\n    if (v === undefined) throw new Error(`Index (${i},${j}) out of bounds for ${this.rows}×${this.cols}`)\n    return v\n  }\n\n  /** Return 2-D array representation. */\n  toArray(): number[][] {\n    return Array.from({ length: this.rows }, (_, i) =>\n      Array.from({ length: this.cols }, (_, j) => this.get(i, j))\n    )\n  }\n\n  /** Return flat row-major copy. */\n  toFlat(): number[] {\n    return [...this._data]\n  }\n\n  /** Matrix transpose. */\n  transpose(): Matrix {\n    const data: number[] = new Array(this.rows * this.cols)\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.cols; j++) {\n        data[j * this.rows + i] = this.get(i, j)\n      }\n    }\n    return new Matrix(this.cols, this.rows, data)\n  }\n\n  /** Matrix multiplication: this × other. */\n  multiply(other: Matrix): Matrix {\n    if (this.cols !== other.rows) {\n      throw new Error(`Dimension mismatch: ${this.rows}×${this.cols} × ${other.rows}×${other.cols}`)\n    }\n    const data: number[] = new Array(this.rows * other.cols).fill(0)\n    for (let i = 0; i < this.rows; i++) {\n      for (let k = 0; k < this.cols; k++) {\n        const aik = this.get(i, k)\n        for (let j = 0; j < other.cols; j++) {\n          data[i * other.cols + j]! += aik * other.get(k, j)\n        }\n      }\n    }\n    return new Matrix(this.rows, other.cols, data)\n  }\n\n  /** Scalar multiplication. */\n  scale(s: number): Matrix {\n    return new Matrix(this.rows, this.cols, this._data.map(v => v * s))\n  }\n\n  /** Element-wise add. */\n  add(other: Matrix): Matrix {\n    if (this.rows !== other.rows || this.cols !== other.cols) {\n      throw new Error('Matrix dimensions must match for addition')\n    }\n    return new Matrix(this.rows, this.cols, this._data.map((v, i) => v + (other._data[i] ?? 0)))\n  }\n\n  /** Element-wise subtract. */\n  subtract(other: Matrix): Matrix {\n    if (this.rows !== other.rows || this.cols !== other.cols) {\n      throw new Error('Matrix dimensions must match for subtraction')\n    }\n    return new Matrix(this.rows, this.cols, this._data.map((v, i) => v - (other._data[i] ?? 0)))\n  }\n\n  /**\n   * Cholesky decomposition for symmetric positive-definite matrices.\n   * Returns lower-triangular L such that this = L * L^T.\n   * Throws if matrix is not SPD.\n   */\n  cholesky(): Matrix {\n    if (this.rows !== this.cols) throw new Error('Cholesky requires square matrix')\n    const n = this.rows\n    const L: number[] = new Array(n * n).fill(0)\n\n    for (let i = 0; i < n; i++) {\n      for (let j = 0; j <= i; j++) {\n        let sum = this.get(i, j)\n        for (let k = 0; k < j; k++) {\n          sum -= (L[i * n + k] ?? 0) * (L[j * n + k] ?? 0)\n        }\n        if (i === j) {\n          if (sum <= 0) throw new Error(`Matrix is not positive definite (diagonal became ${sum} at position ${i})`)\n          L[i * n + j] = Math.sqrt(sum)\n        } else {\n          const diag = L[j * n + j]\n          if (!diag || diag === 0) throw new Error('Zero diagonal in Cholesky')\n          L[i * n + j] = sum / diag\n        }\n      }\n    }\n    return new Matrix(n, n, L)\n  }\n\n  /**\n   * Log-determinant via Cholesky: log|A| = 2 * Σ log(L_ii).\n   * Only valid for symmetric positive-definite matrices.\n   */\n  logDet(): number {\n    const L = this.cholesky()\n    let logdet = 0\n    for (let i = 0; i < this.rows; i++) {\n      const diag = L.get(i, i)\n      if (diag <= 0) throw new Error('Non-positive diagonal in Cholesky')\n      logdet += Math.log(diag)\n    }\n    return 2 * logdet\n  }\n\n  /**\n   * Inverse via LU decomposition with partial pivoting.\n   * Works for any non-singular square matrix.\n   * Formula: Doolittle LU, then forward/back substitution for each column of I.\n   */\n  inverse(): Matrix {\n    if (this.rows !== this.cols) throw new Error('Inverse requires square matrix')\n    const n = this.rows\n    // Build augmented matrix [A | I]\n    const aug: number[] = new Array(n * 2 * n)\n    for (let i = 0; i < n; i++) {\n      for (let j = 0; j < n; j++) {\n        aug[i * 2 * n + j] = this.get(i, j)\n        aug[i * 2 * n + n + j] = i === j ? 1 : 0\n      }\n    }\n\n    // Gaussian elimination with partial pivoting\n    for (let col = 0; col < n; col++) {\n      // Find pivot\n      let maxRow = col\n      let maxVal = Math.abs(aug[col * 2 * n + col] ?? 0)\n      for (let row = col + 1; row < n; row++) {\n        const v = Math.abs(aug[row * 2 * n + col] ?? 0)\n        if (v > maxVal) { maxVal = v; maxRow = row }\n      }\n      if (maxVal < 1e-12) throw new Error('Matrix is singular or near-singular')\n\n      // Swap rows\n      if (maxRow !== col) {\n        for (let j = 0; j < 2 * n; j++) {\n          const tmp = aug[col * 2 * n + j] ?? 0\n          aug[col * 2 * n + j] = aug[maxRow * 2 * n + j] ?? 0\n          aug[maxRow * 2 * n + j] = tmp\n        }\n      }\n\n      const pivot = aug[col * 2 * n + col] ?? 0\n      // Eliminate below\n      for (let row = 0; row < n; row++) {\n        if (row === col) continue\n        const factor = (aug[row * 2 * n + col] ?? 0) / pivot\n        for (let j = 0; j < 2 * n; j++) {\n          aug[row * 2 * n + j]! -= factor * (aug[col * 2 * n + j] ?? 0)\n        }\n      }\n      // Scale pivot row\n      for (let j = 0; j < 2 * n; j++) {\n        aug[col * 2 * n + j]! /= pivot\n      }\n    }\n\n    // Extract right half (inverse)\n    const inv: number[] = new Array(n * n)\n    for (let i = 0; i < n; i++) {\n      for (let j = 0; j < n; j++) {\n        inv[i * n + j] = aug[i * 2 * n + n + j] ?? 0\n      }\n    }\n    return new Matrix(n, n, inv)\n  }\n\n  /**\n   * Singular Value Decomposition: A = U · S · V^T\n   * Returns { U, S (diagonal values), V }.\n   * Algorithm: Golub-Reinsch (one-sided Jacobi for small matrices).\n   * Reference: Golub & Van Loan, \"Matrix Computations\", 4th ed., Algorithm 8.6.2\n   */\n  svd(): { U: Matrix; S: number[]; V: Matrix } {\n    // Use Jacobi one-sided SVD\n    const m = this.rows\n    const n = this.cols\n    // Work on a copy of A as column matrix V^T = I\n    const a = this.toArray()\n    const v: number[][] = Array.from({ length: n }, (_, i) =>\n      Array.from({ length: n }, (_, j) => (i === j ? 1 : 0))\n    )\n\n    const MAX_ITER = 200 * n * n\n    for (let iter = 0; iter < MAX_ITER; iter++) {\n      let converged = true\n      for (let p = 0; p < n - 1; p++) {\n        for (let q = p + 1; q < n; q++) {\n          // Compute alpha, beta, gamma for Jacobi rotation\n          let alpha = 0, beta = 0, gamma = 0\n          for (let i = 0; i < m; i++) {\n            alpha += (a[i]![p] ?? 0) ** 2\n            beta  += (a[i]![q] ?? 0) ** 2\n            gamma += (a[i]![p] ?? 0) * (a[i]![q] ?? 0)\n          }\n          if (Math.abs(gamma) < 1e-15 * Math.sqrt(alpha * beta)) continue\n          converged = false\n          const zeta = (beta - alpha) / (2 * gamma)\n          const t = Math.sign(zeta) / (Math.abs(zeta) + Math.sqrt(1 + zeta * zeta))\n          const c = 1 / Math.sqrt(1 + t * t)\n          const s = t * c\n\n          // Update columns p and q of a\n          for (let i = 0; i < m; i++) {\n            const ap = a[i]![p] ?? 0\n            const aq = a[i]![q] ?? 0\n            a[i]![p] = c * ap + s * aq\n            a[i]![q] = -s * ap + c * aq\n          }\n          // Update V\n          for (let i = 0; i < n; i++) {\n            const vp = v[i]![p] ?? 0\n            const vq = v[i]![q] ?? 0\n            v[i]![p] = c * vp + s * vq\n            v[i]![q] = -s * vp + c * vq\n          }\n        }\n      }\n      if (converged) break\n    }\n\n    // Compute singular values and normalize columns of a → U\n    const singularValues = Array.from({ length: n }, (_, j) => {\n      let sum = 0\n      for (let i = 0; i < m; i++) sum += (a[i]![j] ?? 0) ** 2\n      return Math.sqrt(sum)\n    })\n\n    // Build U (m×n), normalize each column\n    const uData: number[][] = Array.from({ length: m }, () => new Array<number>(n).fill(0))\n    for (let j = 0; j < n; j++) {\n      const sv = singularValues[j] ?? 0\n      for (let i = 0; i < m; i++) {\n        uData[i]![j] = sv > 1e-15 ? (a[i]![j] ?? 0) / sv : 0\n      }\n    }\n\n    // Sort by descending singular value, truncate to k = min(m, n)\n    const order = singularValues.map((_, i) => i).sort((a, b) => (singularValues[b] ?? 0) - (singularValues[a] ?? 0))\n    const k = Math.min(m, n)\n    const S = order.slice(0, k).map(i => singularValues[i] ?? 0)\n    const Uarr: number[][] = Array.from({ length: m }, (_, i) => order.slice(0, k).map(j => uData[i]![j] ?? 0))\n    const Varr: number[][] = Array.from({ length: n }, (_, i) => order.slice(0, k).map(j => v[i]![j] ?? 0))\n\n    return {\n      U: Matrix.fromArray(Uarr),\n      S,\n      V: Matrix.fromArray(Varr),\n    }\n  }\n\n  /**\n   * Pseudo-inverse via SVD: A+ = V · S^{-1} · U^T\n   */\n  pseudoInverse(tol = 1e-10): Matrix {\n    const { U, S, V } = this.svd()\n    const maxS = Math.max(...S)\n    const threshold = tol * maxS\n    const SInv = S.map(s => (s > threshold ? 1 / s : 0))\n\n    // V * diag(SInv)\n    const VSInv = Matrix.fromArray(\n      Array.from({ length: V.rows }, (_, i) =>\n        Array.from({ length: V.cols }, (_, j) => V.get(i, j) * (SInv[j] ?? 0))\n      )\n    )\n    return VSInv.multiply(U.transpose())\n  }\n\n  /** Trace (sum of diagonal elements). */\n  trace(): number {\n    const n = Math.min(this.rows, this.cols)\n    let t = 0\n    for (let i = 0; i < n; i++) t += this.get(i, i)\n    return t\n  }\n\n  /** Extract diagonal as array. */\n  diagonal(): number[] {\n    const n = Math.min(this.rows, this.cols)\n    return Array.from({ length: n }, (_, i) => this.get(i, i))\n  }\n\n  /** Column vector as Matrix from array. */\n  static colVec(data: readonly number[]): Matrix {\n    return new Matrix(data.length, 1, [...data])\n  }\n\n  /** Row vector as Matrix from array. */\n  static rowVec(data: readonly number[]): Matrix {\n    return new Matrix(1, data.length, [...data])\n  }\n\n  /**\n   * Eigendecomposition for symmetric matrices via Jacobi iterations.\n   * Returns { values, vectors } where vectors are columns of the eigenvector matrix.\n   * Reference: Golub & Van Loan, Algorithm 8.4.1\n   */\n  eigen(): { values: number[]; vectors: Matrix } {\n    if (this.rows !== this.cols) throw new Error('eigen() requires square matrix')\n    const n = this.rows\n    const a = this.toArray()\n    const q: number[][] = Array.from({ length: n }, (_, i) =>\n      Array.from({ length: n }, (_, j) => (i === j ? 1 : 0))\n    )\n\n    for (let iter = 0; iter < 100 * n * n; iter++) {\n      // Find largest off-diagonal element\n      let p = 0, r = 1\n      let maxVal = Math.abs(a[0]![1] ?? 0)\n      for (let i = 0; i < n; i++) {\n        for (let j = i + 1; j < n; j++) {\n          if (Math.abs(a[i]![j] ?? 0) > maxVal) {\n            maxVal = Math.abs(a[i]![j] ?? 0)\n            p = i; r = j\n          }\n        }\n      }\n      if (maxVal < 1e-12) break\n\n      const app = a[p]![p] ?? 0, arr = a[r]![r] ?? 0, apr = a[p]![r] ?? 0\n      const theta = 0.5 * Math.atan2(2 * apr, app - arr)\n      const c = Math.cos(theta), s = Math.sin(theta)\n\n      // Update a\n      const newApp = c * c * app + 2 * s * c * apr + s * s * arr\n      const newArr = s * s * app - 2 * s * c * apr + c * c * arr\n      a[p]![p] = newApp; a[r]![r] = newArr; a[p]![r] = 0; a[r]![p] = 0\n\n      for (let i = 0; i < n; i++) {\n        if (i === p || i === r) continue\n        const aip = a[i]![p] ?? 0, air = a[i]![r] ?? 0\n        a[i]![p] = c * aip + s * air\n        a[p]![i] = a[i]![p]!\n        a[i]![r] = -s * aip + c * air\n        a[r]![i] = a[i]![r]!\n      }\n\n      // Update eigenvectors\n      for (let i = 0; i < n; i++) {\n        const qip = q[i]![p] ?? 0, qir = q[i]![r] ?? 0\n        q[i]![p] = c * qip + s * qir\n        q[i]![r] = -s * qip + c * qir\n      }\n    }\n\n    const values = Array.from({ length: n }, (_, i) => a[i]![i] ?? 0)\n    // Sort descending\n    const order = values.map((_, i) => i).sort((a, b) => values[b]! - values[a]!)\n    return {\n      values: order.map(i => values[i]!),\n      vectors: Matrix.fromArray(Array.from({ length: n }, (_, i) => order.map(j => q[i]![j] ?? 0))),\n    }\n  }\n}\n\n/** Solve linear system A·x = b using the (already computed) inverse.  */\nexport function solveLinear(A: Matrix, b: readonly number[]): number[] {\n  const inv = A.inverse()\n  const x = inv.multiply(Matrix.colVec(b))\n  return Array.from({ length: b.length }, (_, i) => x.get(i, 0))\n}\n","/**\n * APA 7th edition string formatting for statistical results.\n * Every stat function uses these formatters to produce the `formatted` string\n * that gets embedded directly into plots as subtitles/captions.\n */\n\nimport { roundTo } from './math.js'\n\n/**\n * Format a p-value in APA style.\n * < .001 → \"p < .001\"\n * otherwise → \"p = .025\" (leading zero dropped, 3 decimal places)\n */\nexport function formatP(p: number): string {\n  if (p < 0.001) return 'p < .001'\n  const rounded = roundTo(p, 3).toFixed(3).replace('0.', '.')\n  return `p = ${rounded}`\n}\n\n/**\n * Format a statistic value: 2 decimal places, no leading zero for absolute values.\n * Used for t, F, z, χ², etc.\n */\nexport function formatStat(v: number, decimals = 2): string {\n  return roundTo(v, decimals).toFixed(decimals)\n}\n\n/**\n * Format a confidence interval: [lo, hi] → \"[0.08, 1.22]\"\n */\nexport function formatCI(ci: readonly [number, number], decimals = 2): string {\n  return `[${roundTo(ci[0], decimals).toFixed(decimals)}, ${roundTo(ci[1], decimals).toFixed(decimals)}]`\n}\n\n/**\n * Format degrees of freedom — integer if whole number, else 2 decimal places.\n */\nexport function formatDF(df: number | readonly [number, number]): string {\n  if (typeof df === 'number') {\n    return Number.isInteger(df) ? String(df) : df.toFixed(2)\n  }\n  const [df1, df2] = df\n  const f1 = Number.isInteger(df1) ? String(df1) : df1.toFixed(2)\n  const f2 = Number.isInteger(df2) ? String(df2) : df2.toFixed(2)\n  return `${f1}, ${f2}`\n}\n\n/**\n * Full APA string for a t-test result.\n * e.g. \"t(48) = 2.31, p = .025, d = 0.65, 95% CI [0.08, 1.22]\"\n */\nexport function formatTTest(\n  t: number,\n  df: number,\n  pValue: number,\n  effectSize: number,\n  effectName: string,\n  ci: readonly [number, number],\n  ciLevel = 0.95\n): string {\n  const ciPct = Math.round(ciLevel * 100)\n  return `t(${formatDF(df)}) = ${formatStat(t)}, ${formatP(pValue)}, ${effectName} = ${formatStat(effectSize)}, ${ciPct}% CI ${formatCI(ci)}`\n}\n\n/**\n * Full APA string for ANOVA.\n * e.g. \"F(2, 87) = 4.21, p = .018, η² = 0.09\"\n */\nexport function formatANOVA(\n  F: number,\n  df1: number,\n  df2: number,\n  pValue: number,\n  effectSize: number,\n  effectName = 'η²'\n): string {\n  return `F(${formatDF([df1, df2])}) = ${formatStat(F)}, ${formatP(pValue)}, ${effectName} = ${formatStat(effectSize)}`\n}\n\n/**\n * Full APA string for chi-square test.\n * e.g. \"χ²(3) = 8.46, p = .037, V = 0.29\"\n */\nexport function formatChiSq(\n  chiSq: number,\n  df: number,\n  pValue: number,\n  effectSize: number,\n  effectName = \"V\"\n): string {\n  return `χ²(${formatDF(df)}) = ${formatStat(chiSq)}, ${formatP(pValue)}, ${effectName} = ${formatStat(effectSize)}`\n}\n\n/**\n * APA string for Pearson/Spearman/Kendall correlation.\n * e.g. \"r(48) = 0.54, p = .003, 95% CI [0.28, 0.73]\"\n */\nexport function formatCorrelation(\n  r: number,\n  df: number,\n  pValue: number,\n  ci: readonly [number, number],\n  method = 'r',\n  ciLevel = 0.95\n): string {\n  const ciPct = Math.round(ciLevel * 100)\n  return `${method}(${formatDF(df)}) = ${formatStat(r)}, ${formatP(pValue)}, ${ciPct}% CI ${formatCI(ci)}`\n}\n\n/**\n * APA string for linear regression.\n * e.g. \"R² = 0.42, F(3, 96) = 23.2, p < .001\"\n */\nexport function formatRegression(\n  r2: number,\n  adjR2: number,\n  F: number,\n  df1: number,\n  df2: number,\n  pValue: number\n): string {\n  return `R² = ${formatStat(r2)}, adj. R² = ${formatStat(adjR2)}, F(${formatDF([df1, df2])}) = ${formatStat(F)}, ${formatP(pValue)}`\n}\n\n/**\n * APA string for Mann-Whitney / Wilcoxon.\n * e.g. \"W = 423, p = .031, r = 0.27\"\n */\nexport function formatMannWhitney(\n  W: number,\n  pValue: number,\n  r: number\n): string {\n  return `W = ${formatStat(W, 0)}, ${formatP(pValue)}, r = ${formatStat(r)}`\n}\n\n/**\n * APA string for Kruskal-Wallis.\n * e.g. \"H(2) = 12.3, p = .002, η²_H = 0.18\"\n */\nexport function formatKruskalWallis(\n  H: number,\n  df: number,\n  pValue: number,\n  etaSq: number\n): string {\n  return `H(${formatDF(df)}) = ${formatStat(H)}, ${formatP(pValue)}, η²_H = ${formatStat(etaSq)}`\n}\n\n/**\n * APA string for LMM.\n * e.g. \"ICC = 0.42, AIC = 1234.5\"\n */\nexport function formatLMM(icc: number, aic: number, bic: number, logLik: number): string {\n  return `ICC = ${formatStat(icc)}, AIC = ${formatStat(aic, 1)}, BIC = ${formatStat(bic, 1)}, logLik = ${formatStat(logLik, 1)}`\n}\n\n/**\n * Interpret Cohen's d effect size.\n */\nexport function interpretCohensD(d: number): string {\n  const abs = Math.abs(d)\n  if (abs < 0.2) return 'negligible'\n  if (abs < 0.5) return 'small'\n  if (abs < 0.8) return 'medium'\n  return 'large'\n}\n\n/**\n * Interpret eta-squared / omega-squared.\n */\nexport function interpretEtaSq(eta: number): string {\n  if (eta < 0.01) return 'negligible'\n  if (eta < 0.06) return 'small'\n  if (eta < 0.14) return 'medium'\n  return 'large'\n}\n\n/**\n * Interpret Pearson r.\n */\nexport function interpretR(r: number): string {\n  const abs = Math.abs(r)\n  if (abs < 0.1) return 'negligible'\n  if (abs < 0.3) return 'small'\n  if (abs < 0.5) return 'medium'\n  if (abs < 0.7) return 'large'\n  return 'very large'\n}\n\n/**\n * Interpret Cramér's V.\n */\nexport function interpretCramerV(v: number, df: number): string {\n  // Benchmarks depend on df (Cohen 1988 adjusted for contingency tables)\n  const small = df === 1 ? 0.1 : df === 2 ? 0.07 : 0.06\n  const medium = df === 1 ? 0.3 : df === 2 ? 0.21 : 0.17\n  if (v < small) return 'negligible'\n  if (v < medium) return 'small'\n  if (v < medium * 1.5) return 'medium'\n  return 'large'\n}\n\nimport type { EffectInterpretation } from './types.js'\n\n/** Generic effect size interpretation helper. */\nexport function interpretEffect(value: number, thresholds: readonly [number, number, number]): EffectInterpretation {\n  const abs = Math.abs(value)\n  if (abs < thresholds[0]) return 'negligible'\n  if (abs < thresholds[1]) return 'small'\n  if (abs < thresholds[2]) return 'medium'\n  return 'large'\n}\n"]}